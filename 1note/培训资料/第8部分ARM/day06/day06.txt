中断：
	1.中断源
	2.中断控制器
	3.ARM核中断内容

1.在ARM中，中断属于一种异常，一定会有异常向量表，异常向量表上保存的是跳转指令，跳转到对应的异常处理代码去执行

2.异常向量表一定要放到0地址，S5PV210的0地址已经被IROM占用，我们就使用MMU把0地址映射到其他物理存储位置

1.中断源的配置
为了能触发中断，首先要配置中断源，我们使用按键来触发中断
通过查看原理图，按键1和按键2连接到了CPU的GPH2_0和GPH2_1上
首先要把GPIO配置成中断功能
GPH2CON			0xE020_0C40
= 0xff
GPH2PUD			0xE020_0C48
=0

配置中断的触发方式
EXT_INT_2_CON	 	0xE020_0E08
=0x22

配置中断源的开启和关闭
EXT_INT_2_MASK		0xE020_0F08
低2位给0，使能中断，给1，禁止中断

中断挂起寄存器
EXT_INT_2_PEND		0xE020_0F48
相当于中断标志寄存器，标志为1表示发生了中断，0表示没有发生
注意：中断处理完后要清除该标志，如何清除(写1)

中断源的配置步骤：
1.禁止中断                                                             2.清除中断标志pend寄存器
3.将GPIO口配置成中断功能
4.禁止上下拉
5.中断触发方式的配置(下降沿触发)


2.中断控制器的配置
TZIC部分
配置中断是走TZIC还是VIC
TZIC0IntSelect		0xF280_0008
对应位给0，走VIC
对应位给1，走TZIC

VIC部分
配置中断走FIQ还是IRQ
VIC0INTSELECT		0xF200_000C
对应位给0，走IRQ
对应位给1，走FIQ
            
中断使能控制
VIC0INTENABLE		0xF200_0010
写1是开启中断，写0没有效果

中断禁止控制
VIC0INTENCLEAR		0xF200_0014
写1是禁止中断，写0无效果

已发生中断的服务程序的地址寄存器
VIC0ADDRESS 		0xF200_0F00
初始化应该清0

VIC0的第16号中断的中断服务程序地址
VIC0VECTADDR16		0xF200_0140

中断控制器的配置步骤：
1.禁止对应的向量中断
2.TZICselect配置成走VIC方式
3.VICselect配置成IRQ方式
4.清除VIC0ADDRESS
5.将写好的中断服务程序的地址写到VIC0VECTADDR16

3.ARM核部分
编写异常向量表和IRQ的异常处理程序

开启中断：
1.中断源的开关，MASK寄存器
2.中断控制器的部分，中断使能，
3.ARM核的CPSR的中断控制位，要开始

S5PV210的启动过程
1.从CPU内部的IROM开始运行
2.IROM中的程序根据启动位置(nand)读取相应的启动代码BL1到芯片内部IRAM
3.BL1中做紧要的硬件配置，主要是要驱动外部512M的DRAM
4.BL1就可以把下面的BL2代码的搬运到DRAM中，在跳转到DRAM中去运行

IRAOM根据启动方式去对应的位置找BL1代码，找到了之后会把BL1读到IRAM里
0xd0020000,IROM如何知道加载多大？最大能加载16K，IROM规定了BL1的格式
在BL1中必须有16个字节的头
16个字节分成4个字
第一个字:BL1的大小(包括前面的16个字节)
第二个字：保留0
第三个字：checksum（校验和）
第四个字：保留0

0x2000		8k








