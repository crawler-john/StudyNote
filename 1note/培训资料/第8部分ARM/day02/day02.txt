一.ARM指令集
1.ARM指令的基本格式
<opcode> {<cond>} {S}  <Rd>,<Rn>.{<operand2>}
opcode:指令助记符
cond:执行条件
S:是否影响CPSR中条件代码标志的值
Rd:目标寄存器
Rn:第一操作数寄存器
operand2：第二操作数寄存器
<>中的内容必须有，{}里面的内容可有可无

ADDEQ	r1,r2,r3

2.寻址方式
1)立即寻址
要操作的数据直接存在于指令中，也就是一个立即数(前面带#)
2)寄存器寻址
操作数在寄存器中，指令保存的是寄存器的编号
3)寄存器间接寻址
操作数保存在寄存器指定的地址中，指令保存的是寄存器的编号
4)基址寻址
操作数保存在寄存器指定的地址进行偏移的地址中，指令保存的是寄存器的编号和偏移量
5)多寄存器寻址
一次传送多个寄存器的值
6)相对寻址
以PC作为基准以指令中的地址码作为偏移进行操作
7)堆栈寻址
以堆栈方式进行多寄存器操作

3.ARM指令
1）跳转指令
B	标签(绝对地址)
BL
BX
跳转指令的范围在+/-32M的范围内
B	地址
8	24
24位能表示16M的范围，+/-8M,ARM指令一定字对齐，ARM指令的低2位一定是0，无需保存，所以24位就能表示+/-32M的范围 

....
label:
.....

移位操作
1.逻辑移位
移出的位丢弃，空出的位补0
LSL
LSR
2.算术移位
移出的位丢弃，空出的位保留原来的值
ASL
ASR
3.循环移位
将移除的位的值放到空出的位
带扩展的循环移位，将标志位中的C位加入到循环移位中

2）数据处理指令
数据传送指令
MOV	传送
MVN	数据非传送
注：
数据传送指令的操作数是有范围要求的，操作数通过移位操作必须能用8位2进制位保存
0xff		可以	
0xf000000f	可以
0xbfe		不可以

算术运算指令
ADD	加
SUB	减
RSB	反减
ADC	带进位加
SBC	带进位减
RSC	带进位反减

逻辑运算指令
AND	与
ORR	或
EOR	异或
BIC	位清除

bic r1,r1,#0x1  =  r1 & (~0x1)

比较指令
CMP	相当于SUBS，但是不保存结果
CMN	负数比较
TST	测试指令
TEQ	测试相等


3)乘法指令
MUL	r1,r2,r3	r1 = r2Xr3
MLA	r1,r2,r3,r4	r1 = r2Xr3+r4
UMULL
UMLAL
SMULL
SMLAL

4）状态寄存器读写指令
MRS	Rd,psr		读
MSR	psr.Rd		写

5)单寄存器内存读写指令
LDR	Rd,<地址>
STR	Rd,<地址>

变址方式(如何去变换地址得到数据)
1.零偏移
ldr  Rd,[Rn]		Rd = *Rn
2.前变址		先偏移地址，再读取数据
LDR  Rd,[Rn,#0x04]	Rd = *(Rn+0x04)
3.回写前变址	先修改地址，再读取数据
LDR  Rd,[Rn,#0x04]！	
Rn = Rn+0x04,Rd = *Rn
4.后变址		先读取数据，在修改地址
LDR  Rd,[Rn],#-0x04	Rd = *Rn,Rn = Rn-0x04


6)多寄存器内存读写指令
LDM(mode)	Rn{!},reglist
STM(mode)	Rn{!},reglist
一共有8种模式，分为两类，数据传送方式和堆栈操作方式
1.数据传送方式
IA：先读写数据，再增加地址
IB：先增加地址，再读写数据
DA：先读写数据，再减少地址
DB：先减少地址，再读写数据

2.堆栈操作方式
FD：满减栈
FA：满增栈
ED：空减栈
EA：空增栈


7)交换指令
SWP	R1,R2,R3	R1=*R3，*R3=R2
SWPB


8）软中断指令
SWI	中断号


4.ARM伪指令和伪操作
ldr Rd,=0xffffffff

.global：声明标签，变量为全局
.extern:声明标签，变量为外部
.text:代码段
.data:数据段
.code 32/16:ARM指令/THUMB指令
.word:定义一个字的变量
.space:占用一段定义大小的空间
.equ	相当于C语言的宏定义

ALIGAN=表达式：表示按  2^表达式  对齐
=ALIGAN(n):表示按n字节对齐


二.安装驱动
安装USB转串口驱动，SQ210资料_1\工具软件\USB转串口驱动\PL2303	  中选择相应的系统安装对应的驱动

安装USB driver驱动

打开dnw,选择对应的串口连接成功，保证USB:OK
点击configuration菜单的options项目，将USB下载地址改为0xd0020010，点击USB port菜单的tramsmit项目，将
SQ210资料_1\第二部分：系统移植\bin\sq210_usb.bin下载到开发板
点击configuration菜单的options项目，将USB下载地址改为0x23e00000，点击USB port菜单的tramsmit项目，将
SQ210资料_1\第二部分：系统移植\bin\u-boot.bin下载到开发板，使用空格键打断uboot引导内核,会出现一个命令行

输入命令：
dnw 20008000

点击USB port菜单的tramsmit项目，将
SQ210资料_1\第二部分：系统移植\bin\u-boot.bin下载到开发板

输入命令：
nand erase 0 100000
nand write 20008000 0 100000

将启动开关拨至靠近柱子，重启开发板，就会出现uboot的启动信息，用空格打断出现命令行






